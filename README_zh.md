# OpenManus-node（中文）

[English Version](README.md) | 中文版

## 项目介绍

OpenManus-node 是对 [mannaandpoem/OpenManus](https://github.com/mannaandpoem/OpenManus) 项目的 Node.js 和 TypeScript 复刻版本。原项目是一个基于 Python 的开源 AI 智能体，而这个版本则使用 Node.js 技术栈重新实现。

需要特别说明的是，由于原始项目中的 browser-use（浏览器使用）工具目前仅支持 Python 版本，本项目实现了一个 Node.js 的简易版本替代方案。虽然功能可能不如原版完整，但已足够满足基本的网页浏览和信息检索需求。

OpenManus-node 是一个基于 Node.js 和 TypeScript 的开源项目，旨在成为 Manus AI 智能体的开放替代方案。它提供了一个通用的 AI 智能体平台，能够自主执行复杂的多步骤任务。通过集成强大的大语言模型（LLM）（例如 GPT-4 等），OpenManus 可以理解用户指令，将任务拆解为子任务，调用外部工具，并在无需人工持续干预的情况下生成解决方案。OpenManus 的目标是让先进的 AI 智能体能力对所有人可用——无需邀请码、无需付费——开发者和用户都可以在自己的环境中运行可定制的 AI 智能体。

OpenManus 拥有灵活且可扩展的架构。项目采用模块化设计，方便集成各种工具和服务，甚至可以插入不同的 AI 模型。这意味着您可以根据不同需求来定制这个智能体，无论是网页信息检索、数据分析、编程辅助，还是内容创作。OpenManus 由社区驱动开发（最初由 MetaGPT 团队在短短数小时内构建原型），充分展示了 AI 社区合作的力量。目前该项目仍在积极开发中，我们热烈欢迎社区提供建议和贡献，共同完善其功能。有了 OpenManus，您可以在自己的设备上试验一个自主的 AI 智能体，所有代码完全开源，确保了隐私和透明度。

## 安装与使用

按照以下步骤在本地环境中设置并运行 OpenManus。在开始之前，请确保您已安装 **Node.js（版本 18 或更高）** 和 **npm**（或 Yarn）。

1. **克隆代码仓库**：从 GitHub 获取 OpenManus 项目的源代码。
   ```bash
   git clone https://github.com/rxyshww/OpenManus-node.git
   cd OpenManus-node
   ```
2. **安装依赖**：使用 npm（或 Yarn）安装项目所需的所有依赖包。
   ```bash
   npm install
   ```
3. **设置环境变量**：OpenManus 需要使用一些 API 密钥（如 AI 模型服务的密钥）。例如，如果使用 OpenAI 的接口，需要提供 API Key。在项目根目录下创建一个 `.env` 文件（或通过其他方式设置环境变量），并添加必要的密钥：
   ```bash
   # .env 文件示例
   OPENAI_MODEL=your-model-name
   OPENAI_BASE_URL=your-base-url
   OPENAI_API_KEY=your-api-key
   FINNHUB_API_KEY=your-finnhub-key
   ```
   将上述值替换为您的实际 API 密钥。您也可以根据需要，在配置文件或环境变量中调整其他设置（例如所使用的模型名称、参数等）。
4. **构建项目**：将 TypeScript 源码编译为 JavaScript。本步骤会生成 `dist` 目录并包含编译后的文件。
   ```bash
   npm run build
   ```
   _（如果项目支持直接运行 TypeScript 或使用 ts-node，则可能无需显式构建，可跳过此步骤。）_
5. **开发调试模式**：如果您想在开发过程中实时查看更改效果，可以使用开发模式运行项目：
   ```bash
   npm run dev
   ```
   这将启动项目并监视文件变化，当您修改代码时会自动重新编译和重启服务，非常适合开发和调试阶段使用。
6. **运行 OpenManus**：启动 OpenManus 智能体。您可以通过命令行交互模式运行：
   ```bash
   npm start
   ```
   以上命令将启动 OpenManus 智能体。终端启动后，通常会提示您输入一个任务或指令，让 AI 智能体执行。您只需在终端输入您的请求内容并按回车即可。

运行后，OpenManus 将开始处理您的输入，调用 AI 模型并使用其内置的工具来执行任务。您可以通过命令行以对话的方式与智能体交互。例如，您可以向它提问，或给它一个项目要求，它会不断在终端输出思考过程和最终结果。

_注意：_ 默认情况下，OpenManus 作为命令行工具运行。对于高级用户，OpenManus 也支持以"API 优先"的方式使用。也就是说，您可以将其作为后端服务运行，通过 HTTP API 给它发送任务（方便集成到 Web 应用或其他系统中），或者直接在代码中调用其功能。具体的高级用法请参考项目文档。

## 功能列表

OpenManus 提供了一系列强大的功能和工具，使其成为一个多才多艺的 AI 智能体平台。以下是本项目的主要功能及集成工具列表，并附有简要说明：

- **自主任务执行**：给予 OpenManus 一个高层次的目标或问题，它可以自主地将任务拆解成多个步骤，并逐步完成每个子任务。该智能体能够在极少人类干预的情况下自行决策下一步的动作（例如选择使用哪种工具）。这使得 OpenManus 可以处理复杂的任务（如"研究最新的可再生能源趋势并整理报告"），而不需要每一步都由人来指导。
- **LLM 集成**：OpenManus 集成了大型语言模型（例如 OpenAI 的 GPT-4/GPT-4o 或 Anthropic 的 Claude）来驱动其推理和对话能力。您可以通过配置选择使用哪种模型。智能体利用 LLM 来理解指令、生成计划，并输出自然语言的结果。由于模型的使用被抽象在配置之后，您可以轻松切换不同的语言模型，甚至使用本地部署的模型来运行 OpenManus。
- **网页浏览工具**：智能体可以执行网页搜索并浏览网站，从互联网上获取信息。借助这个工具，OpenManus 能自主地查询搜索引擎、点击搜索结果，并抓取网页内容。这对于需要实时信息的任务非常关键，例如："查找某公司的最新新闻"，智能体可以搜索网络并阅读相关新闻文章来获取答案。
- **代码执行工具**：OpenManus 有能力编写和运行代码以解决问题。它可以用多种编程语言生成代码（如 Python、JavaScript 等），并在沙盒环境中执行这些代码。这个功能使智能体能够进行计算、数据分析，甚至构建简单的应用程序来完成任务。例如，如果要求"根据一组数据生成图表"，智能体可以编写一个 Python 脚本来处理数据并生成结果。
- **系统命令与文件管理**：在安全可控的前提下，OpenManus 可以与操作系统交互，例如创建/读取文件、行命令行操作或管理磁盘上的内容。这个工具使智能体能够处理诸如将输出保存到文件、读取输入文件（例如读取文本或 CSV 数据以供分析）、或执行为完成任务所需的系统命令等事务。（例如，它可能使用系统命令下载某个资源，或调用一个命令行工具来协助解决问题。）
- **记忆和上下文处理**：智能体在一次会话中会保留之前步骤的上下文和重要信息。这意味着它可以利用先前的对话或任务中的内容来辅助后续步骤的决策和生成。长期记忆对于多步骤相互依赖的复杂任务尤为重要，可确保智能体不会重复劳动或自相矛盾。您也可以根据需要配置内存的长度或是否将上下文持久化。
- **模块化与可扩展设计**：OpenManus 的代码结构高度模块化，开发者可以方便地为其添加新工具或集成功能。您可以通过编写插件的方式扩展 OpenManus，例如接入额外的外部 API（天气服务、数据库等），或改进其推理策略。由于项目完全开源，您可以自由修改智能体的工作方式，微调模型参数，或集成新的 AI 服务。我们也鼓励社区贡献，这意味着随着时间推移，OpenManus 的功能集将不断增长和完善。
- **StockMaster 智能体**：内置多种 Finnhub 工具（报价、VWAP、EMA、挂单簿、成交明细、盘前 K 线），专长于美股日内交易。设置 `FINNHUB_API_KEY`，实例化 `StockMaster` 即可获得实时交易思路。
- **API 与图形界面支持**：除了使用命令行，OpenManus 还采用了 API 优先的设计理念。这意味着您可以将其作为一个服务，通过发送 HTTP 请求来使用（这对于将智能体嵌入到现有应用中非常有用）。另外，项目可能还提供了一个基础的 Web 界面（或正在开发中），使您可以通过浏览器与智能体交互。这些接口为除了终端之外的使用场景提供了便利。

以上各项功能相辅相成，使 OpenManus 在开放环境下重现 Manus AI 的各项能力。举例来说，当您给出一个复杂任务时，OpenManus 可能会先利用 LLM 理解并制定计划，然后调用"网页浏览"工具收集数据，再使用"代码执行"工具分析数据，最后自主整合结果并给出详尽的答案——这一切都是自动完成的。互联网访问、代码运行和记忆存储的组合使 OpenManus 成为一个**通用智能体**，能够应对跨领域的各种任务需求。

## 示例

为了更直观地展示 OpenManus 的用法，下面提供几个使用场景的示例，包括示范的命令以及简化的输入/输出交互：

**示例 1：旅行行程规划**  
假设您希望 AI 帮助规划一次旅行。当 OpenManus 运行后，您可以在终端输入类似的请求：

```bash
> 帮我规划一个东京3日游的行程，包括每天的航班和酒店建议。
```

**执行过程：** OpenManus 接收到您的请求后，将自主地开始处理任务。它可能首先使用**网页浏览工具**搜索您出发地到东京的航班信息，接着查找东京的热门景点和酒店。然后，它会根据搜集到的信息利用推理能力安排每日行程。在执行过程中，您会在终端看到它的一些中间输出，例如：

```
智能体：正在搜索从您所在地飞往东京的航班信息…
智能体：已找到多个航班选项。接下来，查找东京热门景点…
智能体：获取东京高评价酒店的详细信息…
智能体：正在整理行程和费用细节…
```

稍等片刻，OpenManus 将输出完整的行程建议，例如：

```
**东京3日游行程安排：**

- 第1天：抵达东京
  - 上午：从纽约飞往东京（成田机场），预计上午10:00抵达。
  - 下午：入住新宿格兰酒店（四星，位于东京都心）。
  - 晚上：游览新宿御苑，晚餐品尝一兰拉面。

- 第2天：观光游览
  - 上午：参观浅草的浅草寺。
  - 下午：前往东京晴空塔（Tokyo Skytree）俯瞰城市全景。
  - 晚上：逛秋叶原（电子产品与动漫街区）。

- 第3天：文化体验及返程
  - 上午：参观明治神宫并漫步代代木公园。
  - 下午：在原宿购物游玩。
  - 晚上：于19:00从成田机场搭乘航班返回纽约。

*航班详情：* ... （航班号、航空公司、价格）
*酒店建议：* ... （每晚价格，预订链接）

祝您旅途愉快！
```

_（实际输出可能会根据实时信息有所不同；以上是简化的示例，展示 OpenManus 如何通过检索真实数据并组织结果来生成完整答案。）_

**示例 2：编程助理**  
您也可以利用 OpenManus 来辅助完成编程任务。例如，您可以提出问题：

```bash
> 请用 JavaScript 编写一个函数，实现快速排序算法对数字数组进行排序。
```

OpenManus 将使用 LLM 进行思考，然后很可能利用**代码执行工具**来验证它生成的代码是否正确。您可能会看到它描述自己的思路，甚至运行测试用例：

```
智能体：正在编写 JavaScript 实现的快速排序算法...
智能体：代码已完成。现在使用示例数组 [5,2,8,1,4] 测试函数...
智能体：测试通过。数组已成功排序为 [1,2,4,5,8]。
```

接着它会给出最终结果：

```javascript
function quickSort(arr) {
  if (arr.length < 2) return arr;
  const pivot = arr[Math.floor(arr.length / 2)];
  const left = arr.filter((x) => x < pivot);
  const right = arr.filter((x) => x > pivot);
  return [...quickSort(left), pivot, ...quickSort(right)];
}
```

上述输出包含了所请求的 JavaScript 排序函数。OpenManus 不仅编写了代码，还在呈现之前进行了测试以确保其正确性。此后，您可以继续追问例如如何优化代码等，OpenManus 将记住上下文继续进行对话。

以上示例展示了 OpenManus 在不同领域的应用方式。无论您需要一个虚拟研究助理、旅行规划顾问、编程助手，还是其他用途，您都可以使用自然语言（或模型支持的其他语言）与 OpenManus 交流，并获得有针对性的智能响应。智能体对各种工具的使用都是无缝衔接的——它会根据需求自行决定使用何种工具来求解，并在过程中向您反馈它的思路。

您可以尝试让 OpenManus 执行其他任务：

- 让它分析一份数据集或 CSV 文件（它可能会利用代码执行来处理数据）。
- 要求它根据某个主题撰写摘要或报告（它可以通过浏览器工具获取资料，然后整理撰写报告）。
- 用它来头脑风暴创意或生成内容（它可以利用 LLM 的创造力，并通过浏览器工具获取事实依据）。

每次交互中，OpenManus 的强大之处在于它能够自主规划如何实现目标——为每个步骤选择合适的工具——因此您可以得到一个通常需要多个独立工具或大量人工才能完成的综合结果。

## 社区贡献

OpenManus-node 是一个开源社区项目，我们热烈欢迎各种形式的贡献！无论您是经验丰富的开发者还是刚刚入门的爱好者，都可以通过以下方式参与进来：

- **代码贡献**：帮助我们改进现有功能或添加新功能。特别是对于 browser-use 工具的增强，我们非常期待能有更完善的 Node.js 实现方案。
- **文档改进**：完善文档、添加示例或修正错误。
- **问题反馈**：报告 bug 或提出新功能建议。
- **使用案例分享**：分享您使用 OpenManus-node 的创新方式和成功案例。

如果您想贡献代码，请遵循以下步骤：

1. Fork 本仓库
2. 创建您的特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交您的更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 开启一个 Pull Request

我们会尽快审核您的贡献并提供反馈。感谢您对 OpenManus-node 项目的支持！

## 许可

OpenManus 是在 **MIT 许可证** 下开源发布的项目。这意味着只要遵守许可证声明，您可以自由使用、修改和分发本项目的代码。详细信息请参阅仓库中的 `LICENSE` 文件。简单来说，MIT 许可证允许商业和非商业用途，为社区在此项目之上进行构建提供了极大的自由。希望您在 OpenManus 的使用和开发中充分体验开源的乐趣！

---

[返回英文版](README.md)
